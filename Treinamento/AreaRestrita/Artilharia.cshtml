@{
    Page.Title = "Time";
    Layout = "~/AreaRestrita/_Layout.cshtml";
}

@using System.Data.SqlClient

@functions {
    private class Artilharia
    {
        public string Time { get; set; }
        public string Artilheiro { get; set; }
        public int GolsMarcados { get; set; }

    }



    List<Artilharia> artilharias = null;



    private void AlimentaVariaveis()
    {

    }

    private void Consultar()
    {

        string procedure = GetNomeProcedure("C");
        Dao dao = new Dao();

        artilharias = dao.ExecutarProcedureList<Artilharia>(procedure, null);

    }

    private string GetNomeProcedure(string acao)
    {
        switch (acao)
        {
            case "C": return "Stp_LGU_Artilharia_Sel";
            default:
                return null;
        }
    }

    private void Incluir() { }
    private void Alterar() { }
    private void Excluir() { }

    private void Manutencao()
    {

        string procedure = GetNomeProcedure(null);

        Dao dao = new Dao();

        dao.ExecutarProcedure(procedure, null);

    }
}

@{
    AlimentaVariaveis();

    // Manutencao

    Consultar();

}

@section head {
    <link href="~/Scripts/Style.css" rel="stylesheet">
}

<body>
    <form name="form1" method="post">
        <div class="container">
            <h1>Artilharia</h1>

            @if (artilharias != null)
            {
                <table class="table">
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>Artilheiro</th>
                            <th>GolsMarcados</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (Artilharia item in artilharias)
                        {
                            <tr>
                                <td>@item.Time</td>
                                <td>@item.Artilheiro</td>
                                <td>
                                    @item.GolsMarcados
                                </td>
                            </tr>

                        }
                    </tbody>
                </table>
            }
        </div>
    </form>

    <script>
        function consultar() {
            document.form1.acao.value = "C";
            document.form1.submit();
        }

       
    </script>
</body>


